#!/usr/bin/env python3
# coding: utf-8

# USE: Execute in diretory where the three test sets are.


import sys
from pathlib import Path
import argparse

try:
  import numpy as np
except ModuleNotFoundError:
  sys.exit("Module 'numpy' not installed. Exiting.")


def systemList():
  return ['S22x5/01-A',
          'S22x5/01-B',
          'S22x5/01-0.9',
          'S22x5/01-1.0',
          'S22x5/01-1.2',
          'S22x5/01-1.5',
          'S22x5/01-2.0',
          'S22x5/02-A',
          'S22x5/02-B',
          'S22x5/02-0.9',
          'S22x5/02-1.0',
          'S22x5/02-1.2',
          'S22x5/02-1.5',
          'S22x5/02-2.0',
          'S22x5/03-A',
          'S22x5/03-B',
          'S22x5/03-0.9',
          'S22x5/03-1.0',
          'S22x5/03-1.2',
          'S22x5/03-1.5',
          'S22x5/03-2.0',
          'S22x5/04-A',
          'S22x5/04-B',
          'S22x5/04-0.9',
          'S22x5/04-1.0',
          'S22x5/04-1.2',
          'S22x5/04-1.5',
          'S22x5/04-2.0',
          'S22x5/05-A',
          'S22x5/05-B',
          'S22x5/05-0.9',
          'S22x5/05-1.0',
          'S22x5/05-1.2',
          'S22x5/05-1.5',
          'S22x5/05-2.0',
          'S22x5/06-A',
          'S22x5/06-B',
          'S22x5/06-0.9',
          'S22x5/06-1.0',
          'S22x5/06-1.2',
          'S22x5/06-1.5',
          'S22x5/06-2.0',
          'S22x5/07-A',
          'S22x5/07-B',
          'S22x5/07-0.9',
          'S22x5/07-1.0',
          'S22x5/07-1.2',
          'S22x5/07-1.5',
          'S22x5/07-2.0',
          'S22x5/08-A',
          'S22x5/08-B',
          'S22x5/08-0.9',
          'S22x5/08-1.0',
          'S22x5/08-1.2',
          'S22x5/08-1.5',
          'S22x5/08-2.0',
          'S22x5/09-A',
          'S22x5/09-B',
          'S22x5/09-0.9',
          'S22x5/09-1.0',
          'S22x5/09-1.2',
          'S22x5/09-1.5',
          'S22x5/09-2.0',
          'S22x5/10-A',
          'S22x5/10-B',
          'S22x5/10-0.9',
          'S22x5/10-1.0',
          'S22x5/10-1.2',
          'S22x5/10-1.5',
          'S22x5/10-2.0',
          'S22x5/11-A',
          'S22x5/11-B',
          'S22x5/11-0.9',
          'S22x5/11-1.0',
          'S22x5/11-1.2',
          'S22x5/11-1.5',
          'S22x5/11-2.0',
          'S22x5/12-A',
          'S22x5/12-B',
          'S22x5/12-0.9',
          'S22x5/12-1.0',
          'S22x5/12-1.2',
          'S22x5/12-1.5',
          'S22x5/12-2.0',
          'S22x5/13-A',
          'S22x5/13-B',
          'S22x5/13-0.9',
          'S22x5/13-1.0',
          'S22x5/13-1.2',
          'S22x5/13-1.5',
          'S22x5/13-2.0',
          'S22x5/14-A',
          'S22x5/14-B',
          'S22x5/14-0.9',
          'S22x5/14-1.0',
          'S22x5/14-1.2',
          'S22x5/14-1.5',
          'S22x5/14-2.0',
          'S22x5/15-A',
          'S22x5/15-B',
          'S22x5/15-0.9',
          'S22x5/15-1.0',
          'S22x5/15-1.2',
          'S22x5/15-1.5',
          'S22x5/15-2.0',
          'S22x5/16-A',
          'S22x5/16-B',
          'S22x5/16-0.9',
          'S22x5/16-1.0',
          'S22x5/16-1.2',
          'S22x5/16-1.5',
          'S22x5/16-2.0',
          'S22x5/17-A',
          'S22x5/17-B',
          'S22x5/17-0.9',
          'S22x5/17-1.0',
          'S22x5/17-1.2',
          'S22x5/17-1.5',
          'S22x5/17-2.0',
          'S22x5/18-A',
          'S22x5/18-B',
          'S22x5/18-0.9',
          'S22x5/18-1.0',
          'S22x5/18-1.2',
          'S22x5/18-1.5',
          'S22x5/18-2.0',
          'S22x5/19-A',
          'S22x5/19-B',
          'S22x5/19-0.9',
          'S22x5/19-1.0',
          'S22x5/19-1.2',
          'S22x5/19-1.5',
          'S22x5/19-2.0',
          'S22x5/20-A',
          'S22x5/20-B',
          'S22x5/20-0.9',
          'S22x5/20-1.0',
          'S22x5/20-1.2',
          'S22x5/20-1.5',
          'S22x5/20-2.0',
          'S22x5/21-A',
          'S22x5/21-B',
          'S22x5/21-0.9',
          'S22x5/21-1.0',
          'S22x5/21-1.2',
          'S22x5/21-1.5',
          'S22x5/21-2.0',
          'S22x5/22-A',
          'S22x5/22-B',
          'S22x5/22-0.9',
          'S22x5/22-1.0',
          'S22x5/22-1.2',
          'S22x5/22-1.5',
          'S22x5/22-2.0',
          'S66x8/01-A',
          'S66x8/01-B',
          'S66x8/01-090',
          'S66x8/01-095',
          'S66x8/01-100',
          'S66x8/01-105',
          'S66x8/01-110',
          'S66x8/01-125',
          'S66x8/01-150',
          'S66x8/01-200',
          'S66x8/02-A',
          'S66x8/02-B',
          'S66x8/02-090',
          'S66x8/02-095',
          'S66x8/02-100',
          'S66x8/02-105',
          'S66x8/02-110',
          'S66x8/02-125',
          'S66x8/02-150',
          'S66x8/02-200',
          'S66x8/03-A',
          'S66x8/03-B',
          'S66x8/03-090',
          'S66x8/03-095',
          'S66x8/03-100',
          'S66x8/03-105',
          'S66x8/03-110',
          'S66x8/03-125',
          'S66x8/03-150',
          'S66x8/03-200',
          'S66x8/04-A',
          'S66x8/04-B',
          'S66x8/04-090',
          'S66x8/04-095',
          'S66x8/04-100',
          'S66x8/04-105',
          'S66x8/04-110',
          'S66x8/04-125',
          'S66x8/04-150',
          'S66x8/04-200',
          'S66x8/05-A',
          'S66x8/05-B',
          'S66x8/05-090',
          'S66x8/05-095',
          'S66x8/05-100',
          'S66x8/05-105',
          'S66x8/05-110',
          'S66x8/05-125',
          'S66x8/05-150',
          'S66x8/05-200',
          'S66x8/06-A',
          'S66x8/06-B',
          'S66x8/06-090',
          'S66x8/06-095',
          'S66x8/06-100',
          'S66x8/06-105',
          'S66x8/06-110',
          'S66x8/06-125',
          'S66x8/06-150',
          'S66x8/06-200',
          'S66x8/07-A',
          'S66x8/07-B',
          'S66x8/07-090',
          'S66x8/07-095',
          'S66x8/07-100',
          'S66x8/07-105',
          'S66x8/07-110',
          'S66x8/07-125',
          'S66x8/07-150',
          'S66x8/07-200',
          'S66x8/08-A',
          'S66x8/08-B',
          'S66x8/08-090',
          'S66x8/08-095',
          'S66x8/08-100',
          'S66x8/08-105',
          'S66x8/08-110',
          'S66x8/08-125',
          'S66x8/08-150',
          'S66x8/08-200',
          'S66x8/09-A',
          'S66x8/09-B',
          'S66x8/09-090',
          'S66x8/09-095',
          'S66x8/09-100',
          'S66x8/09-105',
          'S66x8/09-110',
          'S66x8/09-125',
          'S66x8/09-150',
          'S66x8/09-200',
          'S66x8/10-A',
          'S66x8/10-B',
          'S66x8/10-090',
          'S66x8/10-095',
          'S66x8/10-100',
          'S66x8/10-105',
          'S66x8/10-110',
          'S66x8/10-125',
          'S66x8/10-150',
          'S66x8/10-200',
          'S66x8/11-A',
          'S66x8/11-B',
          'S66x8/11-090',
          'S66x8/11-095',
          'S66x8/11-100',
          'S66x8/11-105',
          'S66x8/11-110',
          'S66x8/11-125',
          'S66x8/11-150',
          'S66x8/11-200',
          'S66x8/12-A',
          'S66x8/12-B',
          'S66x8/12-090',
          'S66x8/12-095',
          'S66x8/12-100',
          'S66x8/12-105',
          'S66x8/12-110',
          'S66x8/12-125',
          'S66x8/12-150',
          'S66x8/12-200',
          'S66x8/13-A',
          'S66x8/13-B',
          'S66x8/13-090',
          'S66x8/13-095',
          'S66x8/13-100',
          'S66x8/13-105',
          'S66x8/13-110',
          'S66x8/13-125',
          'S66x8/13-150',
          'S66x8/13-200',
          'S66x8/14-A',
          'S66x8/14-B',
          'S66x8/14-090',
          'S66x8/14-095',
          'S66x8/14-100',
          'S66x8/14-105',
          'S66x8/14-110',
          'S66x8/14-125',
          'S66x8/14-150',
          'S66x8/14-200',
          'S66x8/15-A',
          'S66x8/15-B',
          'S66x8/15-090',
          'S66x8/15-095',
          'S66x8/15-100',
          'S66x8/15-105',
          'S66x8/15-110',
          'S66x8/15-125',
          'S66x8/15-150',
          'S66x8/15-200',
          'S66x8/16-A',
          'S66x8/16-B',
          'S66x8/16-090',
          'S66x8/16-095',
          'S66x8/16-100',
          'S66x8/16-105',
          'S66x8/16-110',
          'S66x8/16-125',
          'S66x8/16-150',
          'S66x8/16-200',
          'S66x8/17-A',
          'S66x8/17-B',
          'S66x8/17-090',
          'S66x8/17-095',
          'S66x8/17-100',
          'S66x8/17-105',
          'S66x8/17-110',
          'S66x8/17-125',
          'S66x8/17-150',
          'S66x8/17-200',
          'S66x8/18-A',
          'S66x8/18-B',
          'S66x8/18-090',
          'S66x8/18-095',
          'S66x8/18-100',
          'S66x8/18-105',
          'S66x8/18-110',
          'S66x8/18-125',
          'S66x8/18-150',
          'S66x8/18-200',
          'S66x8/19-A',
          'S66x8/19-B',
          'S66x8/19-090',
          'S66x8/19-095',
          'S66x8/19-100',
          'S66x8/19-105',
          'S66x8/19-110',
          'S66x8/19-125',
          'S66x8/19-150',
          'S66x8/19-200',
          'S66x8/20-A',
          'S66x8/20-B',
          'S66x8/20-090',
          'S66x8/20-095',
          'S66x8/20-100',
          'S66x8/20-105',
          'S66x8/20-110',
          'S66x8/20-125',
          'S66x8/20-150',
          'S66x8/20-200',
          'S66x8/21-A',
          'S66x8/21-B',
          'S66x8/21-090',
          'S66x8/21-095',
          'S66x8/21-100',
          'S66x8/21-105',
          'S66x8/21-110',
          'S66x8/21-125',
          'S66x8/21-150',
          'S66x8/21-200',
          'S66x8/22-A',
          'S66x8/22-B',
          'S66x8/22-090',
          'S66x8/22-095',
          'S66x8/22-100',
          'S66x8/22-105',
          'S66x8/22-110',
          'S66x8/22-125',
          'S66x8/22-150',
          'S66x8/22-200',
          'S66x8/23-A',
          'S66x8/23-B',
          'S66x8/23-090',
          'S66x8/23-095',
          'S66x8/23-100',
          'S66x8/23-105',
          'S66x8/23-110',
          'S66x8/23-125',
          'S66x8/23-150',
          'S66x8/23-200',
          'S66x8/24-A',
          'S66x8/24-B',
          'S66x8/24-090',
          'S66x8/24-095',
          'S66x8/24-100',
          'S66x8/24-105',
          'S66x8/24-110',
          'S66x8/24-125',
          'S66x8/24-150',
          'S66x8/24-200',
          'S66x8/25-A',
          'S66x8/25-B',
          'S66x8/25-090',
          'S66x8/25-095',
          'S66x8/25-100',
          'S66x8/25-105',
          'S66x8/25-110',
          'S66x8/25-125',
          'S66x8/25-150',
          'S66x8/25-200',
          'S66x8/26-A',
          'S66x8/26-B',
          'S66x8/26-090',
          'S66x8/26-095',
          'S66x8/26-100',
          'S66x8/26-105',
          'S66x8/26-110',
          'S66x8/26-125',
          'S66x8/26-150',
          'S66x8/26-200',
          'S66x8/27-A',
          'S66x8/27-B',
          'S66x8/27-090',
          'S66x8/27-095',
          'S66x8/27-100',
          'S66x8/27-105',
          'S66x8/27-110',
          'S66x8/27-125',
          'S66x8/27-150',
          'S66x8/27-200',
          'S66x8/28-A',
          'S66x8/28-B',
          'S66x8/28-090',
          'S66x8/28-095',
          'S66x8/28-100',
          'S66x8/28-105',
          'S66x8/28-110',
          'S66x8/28-125',
          'S66x8/28-150',
          'S66x8/28-200',
          'S66x8/29-A',
          'S66x8/29-B',
          'S66x8/29-090',
          'S66x8/29-095',
          'S66x8/29-100',
          'S66x8/29-105',
          'S66x8/29-110',
          'S66x8/29-125',
          'S66x8/29-150',
          'S66x8/29-200',
          'S66x8/30-A',
          'S66x8/30-B',
          'S66x8/30-090',
          'S66x8/30-095',
          'S66x8/30-100',
          'S66x8/30-105',
          'S66x8/30-110',
          'S66x8/30-125',
          'S66x8/30-150',
          'S66x8/30-200',
          'S66x8/31-A',
          'S66x8/31-B',
          'S66x8/31-090',
          'S66x8/31-095',
          'S66x8/31-100',
          'S66x8/31-105',
          'S66x8/31-110',
          'S66x8/31-125',
          'S66x8/31-150',
          'S66x8/31-200',
          'S66x8/32-A',
          'S66x8/32-B',
          'S66x8/32-090',
          'S66x8/32-095',
          'S66x8/32-100',
          'S66x8/32-105',
          'S66x8/32-110',
          'S66x8/32-125',
          'S66x8/32-150',
          'S66x8/32-200',
          'S66x8/33-A',
          'S66x8/33-B',
          'S66x8/33-090',
          'S66x8/33-095',
          'S66x8/33-100',
          'S66x8/33-105',
          'S66x8/33-110',
          'S66x8/33-125',
          'S66x8/33-150',
          'S66x8/33-200',
          'S66x8/34-A',
          'S66x8/34-B',
          'S66x8/34-090',
          'S66x8/34-095',
          'S66x8/34-100',
          'S66x8/34-105',
          'S66x8/34-110',
          'S66x8/34-125',
          'S66x8/34-150',
          'S66x8/34-200',
          'S66x8/35-A',
          'S66x8/35-B',
          'S66x8/35-090',
          'S66x8/35-095',
          'S66x8/35-100',
          'S66x8/35-105',
          'S66x8/35-110',
          'S66x8/35-125',
          'S66x8/35-150',
          'S66x8/35-200',
          'S66x8/36-A',
          'S66x8/36-B',
          'S66x8/36-090',
          'S66x8/36-095',
          'S66x8/36-100',
          'S66x8/36-105',
          'S66x8/36-110',
          'S66x8/36-125',
          'S66x8/36-150',
          'S66x8/36-200',
          'S66x8/37-A',
          'S66x8/37-B',
          'S66x8/37-090',
          'S66x8/37-095',
          'S66x8/37-100',
          'S66x8/37-105',
          'S66x8/37-110',
          'S66x8/37-125',
          'S66x8/37-150',
          'S66x8/37-200',
          'S66x8/38-A',
          'S66x8/38-B',
          'S66x8/38-090',
          'S66x8/38-095',
          'S66x8/38-100',
          'S66x8/38-105',
          'S66x8/38-110',
          'S66x8/38-125',
          'S66x8/38-150',
          'S66x8/38-200',
          'S66x8/39-A',
          'S66x8/39-B',
          'S66x8/39-090',
          'S66x8/39-095',
          'S66x8/39-100',
          'S66x8/39-105',
          'S66x8/39-110',
          'S66x8/39-125',
          'S66x8/39-150',
          'S66x8/39-200',
          'S66x8/40-A',
          'S66x8/40-B',
          'S66x8/40-090',
          'S66x8/40-095',
          'S66x8/40-100',
          'S66x8/40-105',
          'S66x8/40-110',
          'S66x8/40-125',
          'S66x8/40-150',
          'S66x8/40-200',
          'S66x8/41-A',
          'S66x8/41-B',
          'S66x8/41-090',
          'S66x8/41-095',
          'S66x8/41-100',
          'S66x8/41-105',
          'S66x8/41-110',
          'S66x8/41-125',
          'S66x8/41-150',
          'S66x8/41-200',
          'S66x8/42-A',
          'S66x8/42-B',
          'S66x8/42-090',
          'S66x8/42-095',
          'S66x8/42-100',
          'S66x8/42-105',
          'S66x8/42-110',
          'S66x8/42-125',
          'S66x8/42-150',
          'S66x8/42-200',
          'S66x8/43-A',
          'S66x8/43-B',
          'S66x8/43-090',
          'S66x8/43-095',
          'S66x8/43-100',
          'S66x8/43-105',
          'S66x8/43-110',
          'S66x8/43-125',
          'S66x8/43-150',
          'S66x8/43-200',
          'S66x8/44-A',
          'S66x8/44-B',
          'S66x8/44-090',
          'S66x8/44-095',
          'S66x8/44-100',
          'S66x8/44-105',
          'S66x8/44-110',
          'S66x8/44-125',
          'S66x8/44-150',
          'S66x8/44-200',
          'S66x8/45-A',
          'S66x8/45-B',
          'S66x8/45-090',
          'S66x8/45-095',
          'S66x8/45-100',
          'S66x8/45-105',
          'S66x8/45-110',
          'S66x8/45-125',
          'S66x8/45-150',
          'S66x8/45-200',
          'S66x8/46-A',
          'S66x8/46-B',
          'S66x8/46-090',
          'S66x8/46-095',
          'S66x8/46-100',
          'S66x8/46-105',
          'S66x8/46-110',
          'S66x8/46-125',
          'S66x8/46-150',
          'S66x8/46-200',
          'S66x8/47-A',
          'S66x8/47-B',
          'S66x8/47-090',
          'S66x8/47-095',
          'S66x8/47-100',
          'S66x8/47-105',
          'S66x8/47-110',
          'S66x8/47-125',
          'S66x8/47-150',
          'S66x8/47-200',
          'S66x8/48-A',
          'S66x8/48-B',
          'S66x8/48-090',
          'S66x8/48-095',
          'S66x8/48-100',
          'S66x8/48-105',
          'S66x8/48-110',
          'S66x8/48-125',
          'S66x8/48-150',
          'S66x8/48-200',
          'S66x8/49-A',
          'S66x8/49-B',
          'S66x8/49-090',
          'S66x8/49-095',
          'S66x8/49-100',
          'S66x8/49-105',
          'S66x8/49-110',
          'S66x8/49-125',
          'S66x8/49-150',
          'S66x8/49-200',
          'S66x8/50-A',
          'S66x8/50-B',
          'S66x8/50-090',
          'S66x8/50-095',
          'S66x8/50-100',
          'S66x8/50-105',
          'S66x8/50-110',
          'S66x8/50-125',
          'S66x8/50-150',
          'S66x8/50-200',
          'S66x8/51-A',
          'S66x8/51-B',
          'S66x8/51-090',
          'S66x8/51-095',
          'S66x8/51-100',
          'S66x8/51-105',
          'S66x8/51-110',
          'S66x8/51-125',
          'S66x8/51-150',
          'S66x8/51-200',
          'S66x8/52-A',
          'S66x8/52-B',
          'S66x8/52-090',
          'S66x8/52-095',
          'S66x8/52-100',
          'S66x8/52-105',
          'S66x8/52-110',
          'S66x8/52-125',
          'S66x8/52-150',
          'S66x8/52-200',
          'S66x8/53-A',
          'S66x8/53-B',
          'S66x8/53-090',
          'S66x8/53-095',
          'S66x8/53-100',
          'S66x8/53-105',
          'S66x8/53-110',
          'S66x8/53-125',
          'S66x8/53-150',
          'S66x8/53-200',
          'S66x8/54-A',
          'S66x8/54-B',
          'S66x8/54-090',
          'S66x8/54-095',
          'S66x8/54-100',
          'S66x8/54-105',
          'S66x8/54-110',
          'S66x8/54-125',
          'S66x8/54-150',
          'S66x8/54-200',
          'S66x8/55-A',
          'S66x8/55-B',
          'S66x8/55-090',
          'S66x8/55-095',
          'S66x8/55-100',
          'S66x8/55-105',
          'S66x8/55-110',
          'S66x8/55-125',
          'S66x8/55-150',
          'S66x8/55-200',
          'S66x8/56-A',
          'S66x8/56-B',
          'S66x8/56-090',
          'S66x8/56-095',
          'S66x8/56-100',
          'S66x8/56-105',
          'S66x8/56-110',
          'S66x8/56-125',
          'S66x8/56-150',
          'S66x8/56-200',
          'S66x8/57-A',
          'S66x8/57-B',
          'S66x8/57-090',
          'S66x8/57-095',
          'S66x8/57-100',
          'S66x8/57-105',
          'S66x8/57-110',
          'S66x8/57-125',
          'S66x8/57-150',
          'S66x8/57-200',
          'S66x8/58-A',
          'S66x8/58-B',
          'S66x8/58-090',
          'S66x8/58-095',
          'S66x8/58-100',
          'S66x8/58-105',
          'S66x8/58-110',
          'S66x8/58-125',
          'S66x8/58-150',
          'S66x8/58-200',
          'S66x8/59-A',
          'S66x8/59-B',
          'S66x8/59-090',
          'S66x8/59-095',
          'S66x8/59-100',
          'S66x8/59-105',
          'S66x8/59-110',
          'S66x8/59-125',
          'S66x8/59-150',
          'S66x8/59-200',
          'S66x8/60-A',
          'S66x8/60-B',
          'S66x8/60-090',
          'S66x8/60-095',
          'S66x8/60-100',
          'S66x8/60-105',
          'S66x8/60-110',
          'S66x8/60-125',
          'S66x8/60-150',
          'S66x8/60-200',
          'S66x8/61-A',
          'S66x8/61-B',
          'S66x8/61-090',
          'S66x8/61-095',
          'S66x8/61-100',
          'S66x8/61-105',
          'S66x8/61-110',
          'S66x8/61-125',
          'S66x8/61-150',
          'S66x8/61-200',
          'S66x8/62-A',
          'S66x8/62-B',
          'S66x8/62-090',
          'S66x8/62-095',
          'S66x8/62-100',
          'S66x8/62-105',
          'S66x8/62-110',
          'S66x8/62-125',
          'S66x8/62-150',
          'S66x8/62-200',
          'S66x8/63-A',
          'S66x8/63-B',
          'S66x8/63-090',
          'S66x8/63-095',
          'S66x8/63-100',
          'S66x8/63-105',
          'S66x8/63-110',
          'S66x8/63-125',
          'S66x8/63-150',
          'S66x8/63-200',
          'S66x8/64-A',
          'S66x8/64-B',
          'S66x8/64-090',
          'S66x8/64-095',
          'S66x8/64-100',
          'S66x8/64-105',
          'S66x8/64-110',
          'S66x8/64-125',
          'S66x8/64-150',
          'S66x8/64-200',
          'S66x8/65-A',
          'S66x8/65-B',
          'S66x8/65-090',
          'S66x8/65-095',
          'S66x8/65-100',
          'S66x8/65-105',
          'S66x8/65-110',
          'S66x8/65-125',
          'S66x8/65-150',
          'S66x8/65-200',
          'S66x8/66-A',
          'S66x8/66-B',
          'S66x8/66-090',
          'S66x8/66-095',
          'S66x8/66-100',
          'S66x8/66-105',
          'S66x8/66-110',
          'S66x8/66-125',
          'S66x8/66-150',
          'S66x8/66-200',
          'NCIBLIND10/01-A',
          'NCIBLIND10/01-B',
          'NCIBLIND10/01-1',
          'NCIBLIND10/01-2',
          'NCIBLIND10/01-3',
          'NCIBLIND10/01-4',
          'NCIBLIND10/01-5',
          'NCIBLIND10/01-6',
          'NCIBLIND10/01-7',
          'NCIBLIND10/02-A',
          'NCIBLIND10/02-B',
          'NCIBLIND10/02-1',
          'NCIBLIND10/02-2',
          'NCIBLIND10/02-3',
          'NCIBLIND10/02-4',
          'NCIBLIND10/02-5',
          'NCIBLIND10/02-6',
          'NCIBLIND10/02-7',
          'NCIBLIND10/02-8',
          'NCIBLIND10/02-9',
          'NCIBLIND10/03-A',
          'NCIBLIND10/03-B',
          'NCIBLIND10/03-1',
          'NCIBLIND10/03-2',
          'NCIBLIND10/03-3',
          'NCIBLIND10/03-4',
          'NCIBLIND10/03-5',
          'NCIBLIND10/03-6',
          'NCIBLIND10/03-7',
          'NCIBLIND10/04-A',
          'NCIBLIND10/04-B',
          'NCIBLIND10/04-1',
          'NCIBLIND10/04-2',
          'NCIBLIND10/04-3',
          'NCIBLIND10/04-4',
          'NCIBLIND10/04-5',
          'NCIBLIND10/04-6',
          'NCIBLIND10/04-7',
          'NCIBLIND10/04-8',
          'NCIBLIND10/05-A',
          'NCIBLIND10/05-B',
          'NCIBLIND10/05-1',
          'NCIBLIND10/05-2',
          'NCIBLIND10/05-3',
          'NCIBLIND10/05-4',
          'NCIBLIND10/05-5',
          'NCIBLIND10/05-6',
          'NCIBLIND10/06-A',
          'NCIBLIND10/06-B',
          'NCIBLIND10/06-1',
          'NCIBLIND10/06-2',
          'NCIBLIND10/06-3',
          'NCIBLIND10/06-4',
          'NCIBLIND10/06-5',
          'NCIBLIND10/06-6',
          'NCIBLIND10/06-7',
          'NCIBLIND10/07-A',
          'NCIBLIND10/07-B',
          'NCIBLIND10/07-1',
          'NCIBLIND10/07-2',
          'NCIBLIND10/07-3',
          'NCIBLIND10/07-4',
          'NCIBLIND10/07-5',
          'NCIBLIND10/07-6',
          'NCIBLIND10/08-A',
          'NCIBLIND10/08-B',
          'NCIBLIND10/08-1',
          'NCIBLIND10/08-2',
          'NCIBLIND10/08-3',
          'NCIBLIND10/08-4',
          'NCIBLIND10/08-5',
          'NCIBLIND10/08-6',
          'NCIBLIND10/08-7',
          'NCIBLIND10/09-A',
          'NCIBLIND10/09-B',
          'NCIBLIND10/09-1',
          'NCIBLIND10/09-2',
          'NCIBLIND10/09-3',
          'NCIBLIND10/09-4',
          'NCIBLIND10/09-5',
          'NCIBLIND10/09-6',
          'NCIBLIND10/09-7',
          'NCIBLIND10/10-A',
          'NCIBLIND10/10-B',
          'NCIBLIND10/10-1',
          'NCIBLIND10/10-2',
          'NCIBLIND10/10-3',
          'NCIBLIND10/10-4',
          'NCIBLIND10/10-5',
          'NCIBLIND10/10-6',
          'NCIBLIND10/10-7',
          'NCIBLIND10/10-8',
          'NCIBLIND10/10-9',
          'NCIBLIND10/10-10',
          'NCIBLIND10/10-11',
          'NCIBLIND10/10-12',
          'NCIBLIND10/10-13',
          'NCIBLIND10/10-14',
          'NCIBLIND10/10-15',
          'NCIBLIND10/10-16']


def getOmegas(test_file="NCIBLIND10/01-A/job.out"):
  count_criter = 0
  o = []

  path = Path(test_file)

  if not path.is_file():
    print(f"WARNING! Test file '{test_file}' not found. Using default omegas.")
    omegas = [100, 150, 200, 250, 300, 350, 400, 450]
    return omegas[::-1]


  with open(path) as f:
    for line in f:
      if line.startswith("omega"):
        o.append(int(line.strip().split()[1]))

      if "Convergence criterion met" in line:
        count_criter += 1

    # check convergence for my multijob
    if count_criter != len(o):
      sys.exit(f"Convergence not reached in {test_file}.")

  return o


def main():
  parser = argparse.ArgumentParser(
      description="Get raw electronic energy from the three test sets.")
  parser.add_argument("-r", "--reverse", action="store_true",
                      help="Manually reverse order of omegas.")
  args = parser.parse_args()

  func = Path.cwd().name

  # omegas
  omegas = getOmegas()
  num_jobs = len(omegas)
  print(f"Found {len(omegas)} omega values: {omegas}\n")

  if args.reverse:
    omegas = omegas[::-1]
    print(f"WARNING! Order of omegas reversed. Now: {omegas}\n")

  # column names
  cols = []
  for i in omegas:
    cols.append(f"{func.upper()}(w={i})/def2-QZVP/Q-Chem")

  # column names for csv
  data = [["system"] + cols]

  for system in systemList():
    with open(Path(f"{system}/job.out")) as f:
      count_criter = 0
      e = []
      o = []

      for line in f:
        if line.startswith("omega"):
          o.append(int(line.strip().split()[1]))

        if "Convergence criterion met" in line:
          energy = line.split()[1]
          e.append(float(energy))
          count_criter += 1

      # check convergence for my multijob
      if count_criter != num_jobs:
        sys.exit(
            f"Convergence error or convergence not yet reached in {system}.")

      # check order of omegas
      if o != omegas:
        sys.exit("Order of omegas wrong!")

    data.append([system] + e)

  # Save data
  data = np.asarray(data, dtype=str)
  np.savetxt(f"{func.lower()}-omegas.csv",
             data, delimiter=",", fmt="%s")


if __name__ == '__main__':
  main()
